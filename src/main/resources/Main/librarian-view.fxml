<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Font?>

<BorderPane prefHeight="600.0" prefWidth="800.0" xmlns="http://javafx.com/javafx/19" xmlns:fx="http://javafx.com/fxml/1" fx:controller="Main.LibrarianController">
    <top>
        <HBox alignment="CENTER_LEFT" prefHeight="70.0" spacing="15" style="-fx-background-color: #37474F; -fx-border-color: #263238; -fx-border-width: 0 0 2 0;">
            <padding>
                <Insets left="30" right="30" top="15" bottom="15" />
            </padding>
            <Label fx:id="welcomeLabel" text="Librarian Dashboard" textFill="white">
                <font>
                    <Font name="System Bold" size="22.0" />
                </font>
            </Label>
            <Region HBox.hgrow="ALWAYS" />
            <!-- Enhanced header buttons -->
            <Button onAction="#handleRefresh" text="ðŸ”„ Refresh"
                    style="-fx-background-color: #2196F3; -fx-text-fill: white; -fx-font-size: 14px; -fx-padding: 10 20 10 20; -fx-background-radius: 8; -fx-cursor: hand;" />
            <Button onAction="#handleLogout" text="ðŸšª Logout"
                    style="-fx-background-color: #f44336; -fx-text-fill: white; -fx-font-size: 14px; -fx-padding: 10 20 10 20; -fx-background-radius: 8; -fx-cursor: hand;" />
        </HBox>
    </top>

    <center>
        <VBox alignment="CENTER" spacing="40" style="-fx-background-color: linear-gradient(to bottom, #f8f9fa, #e9ecef);">
            <padding>
                <Insets top="50" right="50" bottom="50" left="50" />
            </padding>

            <!-- Welcome Section -->
            <VBox alignment="CENTER" spacing="15">
                <Label text="ðŸ“š Library Management System" style="-fx-font-size: 28px; -fx-font-weight: bold; -fx-text-fill: #2c3e50;" />
                <Label text="Choose an action to manage library operations" style="-fx-font-size: 16px; -fx-text-fill: #7f8c8d;" />
            </VBox>

            <!-- Statistics Section -->
            <HBox alignment="CENTER" spacing="30" style="-fx-background-color: white; -fx-padding: 25; -fx-background-radius: 15; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 10, 0, 0, 2);">
                <VBox alignment="CENTER" spacing="8">
                    <Label fx:id="issueCountLabel" text="Loading..." style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-text-fill: #1976d2;" />
                    <Label text="ðŸ“š Issue Requests" style="-fx-font-size: 12px; -fx-text-fill: #666;" />
                </VBox>

                <Region style="-fx-min-width: 2; -fx-background-color: #e0e0e0;" />

                <VBox alignment="CENTER" spacing="8">
                    <Label fx:id="returnCountLabel" text="Loading..." style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-text-fill: #2e7d32;" />
                    <Label text="ðŸ“– Return Requests" style="-fx-font-size: 12px; -fx-text-fill: #666;" />
                </VBox>

                <Region style="-fx-min-width: 2; -fx-background-color: #e0e0e0;" />

                <VBox alignment="CENTER" spacing="8">
                    <Label fx:id="publishCountLabel" text="Loading..." style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-text-fill: #f57c00;" />
                    <Label text="âœï¸ Publish Requests" style="-fx-font-size: 12px; -fx-text-fill: #666;" />
                </VBox>
            </HBox>

            <!-- Action Buttons Section -->
            <VBox alignment="CENTER" spacing="25">
                <Label text="Select an Action" style="-fx-font-size: 20px; -fx-font-weight: bold; -fx-text-fill: #34495e;" />

                <VBox alignment="CENTER" spacing="20">
                    <!-- Issue Book Button -->
                    <Button fx:id="issueBookButton" onAction="#handleIssueBookWindow"
                            text="ðŸ“š Issue Book Requests"
                            prefWidth="320" prefHeight="60"
                            style="-fx-background-color: linear-gradient(to right, #4CAF50, #45a049);
                                   -fx-text-fill: white;
                                   -fx-font-size: 18px;
                                   -fx-font-weight: bold;
                                   -fx-background-radius: 12;
                                   -fx-cursor: hand;
                                   -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.2), 8, 0, 0, 2);">
                    </Button>

                    <!-- Accept Return Button -->
                    <Button fx:id="acceptReturnButton" onAction="#handleAcceptReturnWindow"
                            text="ðŸ“– Accept Book Returns"
                            prefWidth="320" prefHeight="60"
                            style="-fx-background-color: linear-gradient(to right, #2196F3, #1976D2);
                                   -fx-text-fill: white;
                                   -fx-font-size: 18px;
                                   -fx-font-weight: bold;
                                   -fx-background-radius: 12;
                                   -fx-cursor: hand;
                                   -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.2), 8, 0, 0, 2);">
                    </Button>

                    <!-- Approve Publish Button -->
                    <Button fx:id="approvePublishButton" onAction="#handleApprovePublishWindow"
                            text="âœï¸ Approve Book Publications"
                            prefWidth="320" prefHeight="60"
                            style="-fx-background-color: linear-gradient(to right, #FF9800, #F57C00);
                                   -fx-text-fill: white;
                                   -fx-font-size: 18px;
                                   -fx-font-weight: bold;
                                   -fx-background-radius: 12;
                                   -fx-cursor: hand;
                                   -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.2), 8, 0, 0, 2);">
                    </Button>
                </VBox>
            </VBox>
        </VBox>
    </center>

    <!-- Footer with helpful information -->
    <bottom>
        <HBox alignment="CENTER" spacing="20" style="-fx-background-color: #f5f5f5; -fx-padding: 15; -fx-border-color: #e0e0e0; -fx-border-width: 1 0 0 0;">
            <Label text="ðŸ“Š Library Management System " style="-fx-font-size: 14px; -fx-text-fill: #666; -fx-font-weight: bold;" />
            <Label text="â€¢" style="-fx-text-fill: #ccc;" />
            <Label text="Click any button above to open the respective management window" style="-fx-font-size: 12px; -fx-text-fill: #666;" />
            <Label text="â€¢" style="-fx-text-fill: #ccc;" />
            <Label text="Use Refresh to update the latest data" style="-fx-font-size: 12px; -fx-text-fill: #666;" />
        </HBox>
    </bottom>
</BorderPane>